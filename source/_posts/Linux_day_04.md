---
title: Linux day 04
---


## Linux 文件权限

文件权限就是文件访问的控制权限 即哪些用户和群组可以访问文件以及可执行什么样的操作

Linux是一个典型的多用户系统 不同用户处于不同的地位 对文件和目录有不同的访问权限 为了保护系统的安全Linux除了对用户权限作了严格的界定外 还在用户身份认证 访问控制 传输安全 文件读写权限等方面做了周密的控制

在Linux中每一个文件或目录都包含访问权限 这些访问权限决定了谁能访问这些文件和目录

### 查看文件权限

使用较长格式列出文件

```sh
ls -l
```

```sh
文件类型和权限 链接数 所有者 所属用户组 文件大小   最后修改时间  文件名
  drwxr-xr-x     23    zero   staff      782      7 16 10:01      sd2
```

- d 目录
- l 软连接
- b 块设备
- c 字符设备
- p 管道
- \- 普通文件

- r 表示允许读权限
- w 表示允许写权限
- x 表示允许执行权限

**文件类型**

Linux里一切皆文件 正因为这个才有设备文件(`/dev`目录下有各种设备文件 大都跟具体硬件设备相关)

`软连接文件` 链接是分为两种的 另一种是"硬链接"(软连接相当于win系统的快捷方式)

**文件权限**

读权限 表示你可以使用 cat 之类的命令读取某个文件的内容

写权限 表示可以编辑某个文件

执行权限 通常指可以运行的文件脚本文件 如同win上的exe后缀文件 不过Linux上不是通过文件后缀名来区分文件类型的

 > 注意一个目录同时具有读权限和执行权限才可以打开并查看内部文件 而一个目录要有写的权限才允许在其中创建文件 这是因为目录文件保存着该目录里面的文件的列表信息
 
所属用户组权限，是指你所在的用户组中的所有其它用户对于该文件的权限

**链接数**

链接到该文件所在的inode节点的文件名数目

**文件大小**

可以给 ls 加上 -lh 参数可以更直观的查看文件大小

### 变更文件所有者

假如目前是zero用户登录 新建一个文件命名为 "lenovo"

```sh
~ touch lenovo
~ ll
-rw-rw-r--   1 zero  staff     16  7 10 00:08 lenovo
```

切换回 zhang 用户使用下面命令变更文件所有者

```sh
~ cd /home/zero
sudo chown zhang lenovo
```

在查看就发现文件所有者 被修改了


### 修改文件权限

如果你有一个不想被其他用户读 写 执行的文件 那么就要对文件的权限进行修改

```sh
chmod go-rw lenovo
```

> g、o、u 分别表示group、others、user +和- 分别表示增加和去掉相应的权限

## Linux 文件基本操作

### 新建

#### 新建空白文件

使用 touch 命令创建空白文件

```sh
touch test
```

#### 新建目录

使用 mkdir 可以创建一个空目录 也可以同时指定创建目录的权限属性

```sh
mkdir mydir
```

使用 -p 参数创建多级mulu

```sh
mkdir -p father/son/grandson
```

### 复制

如果直接使用cp命令复制目录的话 会报错需要加上-r参数表示递归

```sh
cp -r father /
```

### 删除

#### 删除文件

使用rm 删除一个文件

```sh
rm test
```

有时候先要删除一些为只读权限的文件 直接使用rm会有提示 如果想忽略这个提示加 -f参数强制删除

```sh
rm -f test
```

#### 删除目录

跟复制目录一样 要删除一个目录加上 -r

```sh
rm -r father
```

###移动文件与文件重命名

#### 移动文件

使用 mv 命令移动文件(剪切) 将file1文件移动到Documents目录

```sh
# mv 源目录文件 目的目录
mv file1 Documents
```

#### 重命名文件

将 file1 重命名为 myfile

```sh
# mv 旧的文件名 新的文件名
my file1 myfile
```